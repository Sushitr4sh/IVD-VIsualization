<% layout('layouts/boilerplate') -%>
<main
  class="lg:px-32 px-2 flex lg:gap-x-4 gap-x-2 lg:mt-8 mt-4 text-sm lg:text-base"
>
  <div
    class="lg:w-[40%] w-[35%] rounded-xl bg-[#91c8e4] lg:flex gap-x-4 lg:px-4 lg:py-4 px-2 py-3"
  >
    <img
      src="/images/empty-profile.png"
      class="lg:w-24 lg:h-24 w-20 h-20 mx-auto lg:mx-0"
    />
    <div class="flex flex-col justify-between">
      <p class="font-bold text-center lg:text-left mt-2 lg:mt-0">Full Name</p>
      <div class="font-thin">
        <div class="lg:flex lg:items-center lg:gap-x-2">
          <p class="text-center lg:text-left"><%= patient.fullName %></p>
          <img src="/images/edit-name.png" class="w-6 hidden lg:inline-block" />
        </div>
        <p class="text-center lg:text-left">ID: <%= patient.patientId %></p>
      </div>
    </div>
  </div>
  <div
    class="w-[20%] hidden lg:flex rounded-xl bg-[#91c8e4] flex-col items-center justify-center"
  >
    <p class="font-bold">Gender</p>
    <img src="/images/gender.png" class="w-16 h-16" />
  </div>
  <div
    class="w-[20%] rounded-xl hidden lg:flex bg-[#91c8e4] flex-col items-center p-4"
  >
    <p class="font-bold">Date of Birth</p>
    <p class="text-center font-thin"><%= patient.dateOfBirth %></p>
  </div>
  <div
    class="lg:w-[40%] w-[65%] rounded-xl bg-[#91c8e4] flex justify-between gap-x-8 items-center lg:items-start lg:px-4 lg:py-4 px-4"
  >
    <div class="flex flex-col justify-between">
      <div>
        <p class="font-bold">Room No.</p>
        <div class="flex gap-x-1 items-center">
          <p class="font-thin">ROOM00001</p>
          <img src="/images/edit-name.png" class="w-4" />
        </div>
      </div>
      <div class="mt-2 lg:mt-0">
        <p class="font-bold">Bed No,</p>
        <div class="flex gap-x-1 items-center">
          <p class="font-thin">BED00001</p>
          <img src="/images/edit-name.png" class="w-4" />
        </div>
      </div>
    </div>
    <div>
      <p class="font-bold">Doctor's Name</p>
      <p class="font-thin">dr. David Hasbara Hareva,S.Si.,MHS</p>
    </div>
  </div>
</main>

<main class="mt-4 lg:px-32 px-2 flex items-start">
  <div class="flex flex-col gap-y-2 items-center w-[20%] lg:w-auto">
    <button
      class="py-4 px-6 hover:bg-[#91c8e4] transition duration-150 ease-in rounded-l-md shadow-xl w-full cursor-pointer"
      onclick="showPage('page1');"
      onmouseover="changeImage('option1', '/images/checklist-white.png')"
      onmouseout="changeImage('option1', '/images/checklist.png')"
      id="option1"
    >
      <img src="/images/checklist.png" id="option1Image" />
    </button>
    <button
      class="py-4 px-6 rounded-l-md shadow-xl cursor-pointer hover:bg-[#91c8e4] transition duration-150 ease-in"
      onclick="showPage('page2')"
      onmouseover="changeImage('option2', '/images/sleep-white.png')"
      onmouseout="changeImage('option2', '/images/sleep.png')"
      id="option2"
    >
      <img src="/images/sleep.png" id="option2Image" />
    </button>
    <button
      class="py-4 px-6 rounded-l-md shadow-xl cursor-pointer hover:bg-[#91c8e4] transition duration-150 ease-in"
      onclick="showPage('page3')"
      onmouseover="changeImage('option3', '/images/heart-rate-white.png')"
      onmouseout="changeImage('option3', '/images/heart-rate.png')"
      id="option3"
    >
      <img src="/images/heart-rate.png" id="option3Image" />
    </button>
    <button
      class="py-4 px-6 rounded-l-md shadow- hover:bg-[#91c8e4] transition duration-150 ease-in"
      onclick="showPage('page4')"
      onmouseover="changeImage('option4', '/images/person-white.png')"
      onmouseout="changeImage('option4', '/images/person.png')"
      id="option4"
    >
      <img src="/images/person.png" id="option4Image" />
    </button>
  </div>
  <div
    class="w-[80%] lg:w-full bg-[#91c8e4] lg:p-4 p-2 rounded-r-md rounded-bl-md gap-x-2 flex items-start main"
  >
    <div class="w-full items-start gap-x-2 hidden" id="page1">
      <div class="w-full">
        <div class="flex-col lg:flex-row w-full hidden lg:flex">
          <div
            class="rounded-xl bg-[#c8e4f1] lg:w-full h-80 flex flex-col items-start pt-4 px-5 pb-10"
          >
            <div class="flex items-center gap-x-2">
              <label for="sleepStageCreatedAt" class="font-semibold"
                >Choose Date:</label
              >
              <input
                type="date"
                name="sleepStageCreatedAt"
                id="sleepStageCreatedAt"
                class="bg-transparent focus:outline-none"
                onchange="updateSleepStageChart()"
                value="2023-10-25"
              />
            </div>
            <canvas id="sleepStageChart" class="w-full"></canvas>
          </div>
        </div>
        <div class="flex flex-col lg:flex-row gap-x-4 w-full lg:mt-4">
          <div
            class="rounded-xl flex flex-col justify-between bg-[#c8e4f1] w-full lg:p-4 p-2 h-64"
          >
            <div>
              <p class="font-bold text-xl">Blood Pressure</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/blood-pressure.png" alt="" srcset="" />
                <p class="font-bold text-[#6472f8] text-5xl">
                  <%= patient.bloodPressure %><span
                    class="text-black font-thin text-base"
                    >mmHg</span
                  >
                </p>
              </div>
            </div>
            <div>
              <p class="font-bold mt-2 text-xl">Mean Pulse</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/mean-pulse.png" alt="" srcset="" />
                <p class="font-bold text-[#a472b8] text-5xl">
                  <%= patient.meanPulse %><span
                    class="text-black font-thin text-base"
                    >bpm</span
                  >
                </p>
              </div>
            </div>
          </div>
          <div
            class="rounded-xl bg-[#c8e4f1] w-full p-4 h-64 flex items-center justify-center mt-2 lg:mt-0"
          >
            <div class="w-full">
              <p class="font-bold text-xl">Heart Rate</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/heart-rate-2.png" alt="" srcset="" />
                <p class="font-bold text-[#e4c478] text-5xl">
                  <%= patient.heartRate %><span
                    class="text-black font-thin text-base"
                    >bpm</span
                  >
                </p>
              </div>
            </div>
          </div>
          <div
            class="rounded-xl flex flex-col justify-between bg-[#c8e4f1] w-full p-4 h-64 mt-2 lg:mt-0"
          >
            <div>
              <p class="font-bold text-xl">SPO2</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/o2.png" alt="" srcset="" />
                <p class="font-bold text-[#64b278] text-5xl">
                  <%= patient.spo2 %><span
                    class="text-black font-thin text-base"
                    >%</span
                  >
                </p>
              </div>
            </div>
            <div>
              <p class="font-bold mt-2 text-xl">RR</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/rr.png" alt="" srcset="" />
                <p class="font-bold text-[#e47278] text-5xl">
                  <%= patient.rr %><span class="text-black font-thin text-base"
                    >bpm</span
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
        <div
          class="w-full flex flex-col lg:flex-row gap-x-32 lg:mt-4 mt-2 bg-[#c8e4f1] p-4 rounded-xl"
        >
          <div class="w-full">
            <div class="w-full">
              <p class="font-bold text-xl">BMI</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/bmi.png" alt="" srcset="" />
                <p class="font-bold text-[#5daf70] text-5xl">
                  <%= patient.bmi %><span class="text-black font-thin text-base"
                    >kg/m2</span
                  >
                </p>
              </div>
            </div>
            <div class="w-full mt-4">
              <p class="font-bold text-xl">Body Temperature</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/body-temperature.png" alt="" srcset="" />
                <p class="font-bold text-[#e47278] text-5xl">
                  <%= patient.bodyTemperature %>°<span
                    class="text-black font-thin text-base"
                    >C</span
                  >
                </p>
              </div>
            </div>
          </div>
          <div class="w-full">
            <div class="w-full">
              <p class="font-bold text-xl">Body Weight</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/body-weight.png" alt="" srcset="" />
                <p class="font-bold text-[#a472b8] text-5xl">
                  <%= patient.bodyWeight %><span
                    class="text-black font-thin text-base"
                    >kg</span
                  >
                </p>
              </div>
            </div>
            <div class="w-full mt-4">
              <p class="font-bold text-xl">Body Height</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/body-height.png" alt="" srcset="" />
                <p class="font-bold text-[#e4c478] text-5xl">
                  <%= patient.bodyHeight %><span
                    class="text-black font-thin text-base"
                    >cm</span
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page5'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full items-start gap-x-2 hidden" id="page2">
      <div class="w-full">
        <div class="flex gap-x-4 items-end">
          <div class="w-[60%] h-72 bg-[#c8e4f1] rounded-xl"></div>
          <div
            class="w-[40%] h-72 bg-[#c8e4f1] rounded-xl flex flex-col justify-between p-4"
          >
            <div>
              <p class="font-bold text-xl">SPO2</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/o2.png" alt="" srcset="" />
                <p class="font-bold text-[#64b278] text-5xl">
                  <%= patient.spo2 %><span
                    class="text-black font-thin text-base"
                    >%</span
                  >
                </p>
              </div>
            </div>
            <div>
              <p class="font-bold mt-2 text-xl">RR</p>
              <div class="flex justify-between items-center mt-2">
                <img src="/images/rr.png" alt="" srcset="" />
                <p class="font-bold text-[#e47278] text-5xl">
                  <%= patient.rr %><span class="text-black font-thin text-base"
                    >bpm</span
                  >
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-[#c8e4f1] rounded-xl h-64 w-full mt-4 p-4">
          <canvas id="sleepChart" class="w-full"></canvas>
        </div>

        <div class="hidden">
          <div class="mb-1 mt-4 text-lg font-bold">Light Sleep</div>
          <div class="flex items-center gap-x-2">
            <div class="w-[80%] h-4 bg-gray-200 rounded-full">
              <div
                class="h-4 bg-[#6e7df7] rounded-full"
                style="width: 20%"
              ></div>
            </div>
            <p class="font-thin">20 minutes</p>
          </div>
          <div class="mb-1 mt-4 text-lg font-bold">Deep Sleep</div>
          <div class="flex items-center gap-x-2">
            <div class="w-[80%] h-4 bg-gray-200 rounded-full">
              <div
                class="h-4 bg-[#a87dbe] rounded-full"
                style="width: 70%"
              ></div>
            </div>
            <p class="font-thin">2 hours 35 minutes</p>
          </div>
          <div class="mb-1 mt-4 text-lg font-bold">REM</div>
          <div class="flex items-center gap-x-2">
            <div class="w-[80%] h-4 bg-gray-200 rounded-full">
              <div
                class="h-4 bg-[#deef91] rounded-full"
                style="width: 15%"
              ></div>
            </div>
            <p class="font-thin">15 minutes</p>
          </div>
          <div class="mb-1 mt-4 text-lg font-bold">Awake</div>
          <div class="flex items-center gap-x-2">
            <div class="w-[80%] h-4 bg-gray-200 rounded-full">
              <div
                class="h-4 bg-[#e1c885] rounded-full"
                style="width: 40%"
              ></div>
            </div>
            <p class="font-thin">2 hours</p>
          </div>
        </div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page6'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full items-start gap-x-2 hidden" id="page3">
      <div class="flex w-full gap-x-4 items-center">
        <div
          class="w-full bg-[#c8e4f1] rounded-xl flex flex-col justify-between p-4"
        >
          <div>
            <p class="font-bold text-xl">Systolic</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/systolic.png" alt="" srcset="" />
              <p class="font-bold text-[#e47278] text-5xl">
                <%= patient.systolic %><span
                  class="text-black font-thin text-base"
                  >mmHg</span
                >
              </p>
            </div>
          </div>
          <div class="mt-2">
            <p class="font-bold text-xl">Diastolic</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/systolic.png" alt="" srcset="" />
              <p class="font-bold text-[#e47278] text-5xl">
                <%= patient.diastolic %><span
                  class="text-black font-thin text-base"
                  >mmHg</span
                >
              </p>
            </div>
          </div>
          <div class="mt-2">
            <p class="font-bold text-xl">Mean Pulse</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/mean-pulse.png" alt="" srcset="" />
              <p class="font-bold text-[#a472b8] text-5xl">
                <%= patient.meanPulse %><span
                  class="text-black font-thin text-base"
                  >bpm</span
                >
              </p>
            </div>
          </div>
          <div class="mt-2">
            <p class="font-bold text-xl">Body Site</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/body-site.png" alt="" srcset="" />
              <p class="font-bold text-[#b7878d] text-5xl">
                left<span class="text-black font-thin text-base">hand</span>
              </p>
            </div>
          </div>
        </div>
        <div
          class="w-full h-64 bg-[#c8e4f1] rounded-xl flex flex-col justify-between p-4"
        >
          <div>
            <p class="font-bold text-xl">Blood Pressure</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/blood-pressure.png" alt="" srcset="" />
              <p class="font-bold text-[#6472f8] text-5xl">
                <%= patient.systolic %>/<%= patient.diastolic %><span
                  class="text-black font-thin text-base"
                  >mmHg</span
                >
              </p>
            </div>
          </div>
          <div>
            <p class="font-bold mt-2 text-xl">Heart Rate</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/heart-rate-2.png" alt="" srcset="" />
              <p class="font-bold text-[#e4c478] text-5xl">
                <%= patient.heartRate %><span
                  class="text-black font-thin text-base"
                  >bpm</span
                >
              </p>
            </div>
          </div>
        </div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page7'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full items-start gap-x-2 hidden" id="page4">
      <div
        class="w-full flex flex-col lg:flex-row gap-x-32 lg:mt-0 h-[60vh] mt-2 bg-[#c8e4f1] p-4 rounded-xl"
      >
        <div class="w-full">
          <div class="w-full">
            <p class="font-bold text-xl">BMI</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/bmi.png" alt="" srcset="" />
              <p class="font-bold text-[#5daf70] text-5xl">
                <%= patient.bmi %><span class="text-black font-thin text-base"
                  >kg/m2</span
                >
              </p>
            </div>
          </div>
          <div class="w-full mt-4">
            <p class="font-bold text-xl">Body Temperature</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/body-temperature.png" alt="" srcset="" />
              <p class="font-bold text-[#e47278] text-5xl">
                <%= patient.bodyTemperature %>°<span
                  class="text-black font-thin text-base"
                  >C</span
                >
              </p>
            </div>
          </div>
        </div>
        <div class="w-full">
          <div class="w-full">
            <p class="font-bold text-xl">Body Weight</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/body-weight.png" alt="" srcset="" />
              <p class="font-bold text-[#a472b8] text-5xl">
                <%= patient.bodyWeight %><span
                  class="text-black font-thin text-base"
                  >kg</span
                >
              </p>
            </div>
          </div>
          <div class="w-full mt-4">
            <p class="font-bold text-xl">Body Height</p>
            <div class="flex justify-between items-center mt-2">
              <img src="/images/body-height.png" alt="" srcset="" />
              <p class="font-bold text-[#e4c478] text-5xl">
                <%= patient.bodyHeight %><span
                  class="text-black font-thin text-base"
                  >cm</span
                >
              </p>
            </div>
          </div>
        </div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page8'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full hidden gap-x-2 items-start" id="page5">
      <div class="w-full">
        <div
          class="rounded-xl bg-[#c8e4f1] lg:w-full h-80 flex flex-col items-start pt-4 px-5 pb-10"
        >
          <div class="flex items-center gap-x-2">
            <label for="sleepStageCreatedAt" class="font-semibold"
              >Choose Date:</label
            >
            <input
              type="date"
              name="sleepStageCreatedAt"
              id="sleepStageCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateSleepStageChart()"
              value="2023-10-25"
            />
          </div>
          <canvas id="sleepStageChart" class="w-full"></canvas>
        </div>
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl mt-4"></div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page1'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full hidden gap-x-2 items-start" id="page7">
      <div class="w-full">
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl">
          <div class="flex items-center gap-x-2">
            <label for="bloodPressureCreatedAt" class="font-semibold"
              >Choose Date:</label
            >
            <input
              type="date"
              name="bloodPressureCreatedAt"
              id="bloodPressureCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateBloodPressureChart()"
              value="2021-11-20"
            />
          </div>
          <canvas id="bloodPressureChart" class="w-full"></canvas>
        </div>
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl mt-4">
          <div class="flex items-center gap-x-2">
            <label for="haertRateCreatedAt" class="font-semibold"
              >Choose Date:</label
            >
            <input
              type="date"
              name="heartRateCreatedAt"
              id="heartRateCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateHeartRateChart()"
              value="2021-11-20"
            />
          </div>
          <canvas id="heartRateChart" class="w-full"></canvas>
          <div class="flex gap-x-2 items-center mt-4">
            <p>(Heart Rate)</p>
            <p class="font-semibold">
              Max: <span id="maxHeartRate" class="font-normal">87</span>,
            </p>
            <p class="font-semibold">
              Min: <span id="minHeartRate" class="font-normal">66</span>,
            </p>
            <p class="font-semibold">
              Average:
              <span id="averageHeartRate" class="font-normal"
                >77.42857142857143</span
              >,
            </p>
          </div>
        </div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page3'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>

    <div class="w-full hidden gap-x-2 items-start" id="page8">
      <div class="w-full">
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl">
          <div class="flex items-center gap-x-2">
            <label for="heightWeightCreatedAt" class="font-semibold"
              >Choose Date:</label
            >
            <input
              type="date"
              name="heightWeightCreatedAt"
              id="heightWeightCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateHeightWeightChart()"
              value="2021-11-20"
            />
          </div>
          <canvas id="heightWeightChart" class="w-full"></canvas>
        </div>
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl mt-4">
          <div class="flex items-center gap-x-2">
            <label for="bmiCreatedAt" class="font-semibold">Choose Date:</label>
            <input
              type="date"
              name="bmiCreatedAt"
              id="bmiCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateBmiChart()"
              value="2021-11-20"
            />
          </div>
          <canvas id="bmiChart" class="w-full"></canvas>
        </div>
        <div class="w-full bg-[#c8e4f1] p-4 rounded-xl mt-4">
          <div class="flex items-center gap-x-2">
            <label for="temperatureCreatedAt" class="font-semibold"
              >Choose Date:</label
            >
            <input
              type="date"
              name="temperatureCreatedAt"
              id="temperatureCreatedAt"
              class="bg-transparent focus:outline-none"
              onchange="updateTemperatureChart()"
              value="2021-11-20"
            />
          </div>
          <canvas id="temperatureChart" class="w-full"></canvas>
        </div>
      </div>
      <button
        class="lg:flex items-center hidden"
        onclick="showPage('page4'); toggleRotation();"
      >
        <img src="/images/window.png" class="-mr-2" />
      </button>
    </div>
  </div>
</main>

<script>
  function changeImage(optionId, newSrc) {
    const image = document.getElementById(`${optionId}Image`);
    image.src = newSrc;
  }
</script>

<script>
  function toggleRotation() {
    const rotateImage = document.getElementById("rotateImage");
    rotateImage.classList.toggle("rotate-180");
  }
</script>

<script>
  function showPage(pageId) {
    // Hide all pages
    const pages = document.querySelectorAll(".main > div");
    pages.forEach((page) => {
      page.style.display = "none";
    });

    // Show the selected page
    const selectedPage = document.getElementById(pageId);
    if (selectedPage) {
      selectedPage.style.display = "flex";
    }
  }
</script>

<script>
  const patient = {features: <%-JSON.stringify(patient)%>};

  /* Sleep Stage */
  const sleepStageCtx = document.getElementById("sleepStageChart");
  let sleepStageDefault = {
    date: "2023-10-25",
    time: [
      '16:22:00.000', '16:24:00.000', '16:27:00.000',
      '16:28:00.000', '16:29:00.000', '16:31:00.000',
      '16:32:00.000', '16:40:00.000', '16:41:00.000',
      '16:51:00.000', '16:54:00.000', '17:01:00.000',
      '17:02:00.000', '17:11:00.000', '17:18:00.000',
      '17:19:00.000', '17:26:00.000', '17:31:00.000',
      '17:35:00.000', '19:14:00.000', '19:38:00.000',
      '19:40:00.000', '19:57:00.000', '20:05:00.000',
      '20:32:00.000', '20:33:00.000', '20:36:00.000',
      '20:37:00.000', '21:02:00.000', '21:15:00.000',
      '21:18:00.000', '21:28:00.000', '21:30:00.000',
      '21:34:00.000', '21:52:00.000', '21:59:00.000',
      '22:02:00.000', '22:11:00.000', '22:13:00.000'
    ],
    stage: [
      40001, 40002, 40001, 40002, 40004,
      40001, 40004, 40001, 40004, 40002,
      40004, 40001, 40004, 40002, 40004,
      40001, 40002, 40004, 40001, 40002,
      40001, 40002, 40003, 40004, 40001,
      40002, 40001, 40002, 40003, 40001,
      40002, 40001, 40002, 40004, 40002,
      40004, 40002, 40004, 40001
    ]
  };

  var sleepStageChart = new Chart(sleepStageCtx, {
    type: "line",
    data: {
      labels: sleepStageDefault.time,
      datasets: [
        {
          label: "Stage", // Name the first series
          data: sleepStageDefault.stage, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: false, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateSleepStageChart() {
    const selectedDate = document.getElementById(
      "sleepStageCreatedAt"
    ).value;
    sleepStageDefault = patient.features.sleepStageHistory.find(
      (entry) => entry.date === selectedDate
    );
    if(sleepStageDefault){
      sleepStageChart.data.labels = sleepStageDefault.time;
      sleepStageChart.data.datasets[0].data = sleepStageDefault.stage;
    } else {
      sleepStageChart.data.labels = null;
      sleepStageChart.data.datasets[0].data = null;
    }
    sleepStageChart.update();
  }

  /* Sleep */
  const sleepCtx = document.getElementById("sleepChart");
  const sleepLabels = ["light-sleep", "deep-sleep", "REM", "awake"];
  let sleepDefault = {
    labels: sleepLabels,
    datasets: [
      {
        axis: "y",
        label: "Sleep Chart",
        data: [20, 155, 15, 120],
        fill: false,
        backgroundColor: [
          "rgba(255, 99, 132, 0.2)",
          "rgba(255, 159, 64, 0.2)",
          "rgba(255, 205, 86, 0.2)",
          "rgba(75, 192, 192, 0.2)",
        ],
        borderColor: [
          "rgb(255, 99, 132)",
          "rgb(255, 159, 64)",
          "rgb(255, 205, 86)",
          "rgb(75, 192, 192)",
        ],
        borderWidth: 1,
      },
    ],
  };
  var sleepChart = new Chart(sleepCtx, {
    type: "bar",
    data: sleepDefault,
    options: {
      indexAxis: "y",
      responsive: true,
      maintainAspectRatio: false,
      scales: {
      x: {
        beginAtZero: true,
        max: 240, // Set the maximum value for the x-axis
      },
    },
    },
  });

  /* Blood Pressure */
  const bloodPressureCtx = document.getElementById("bloodPressureChart");
  let bloodPressureDefault = {
    date: "2021-11-20",
    time: [
      "01:58:10.469",
      "07:40:18.206",
      "08:02:28.956",
      "08:09:14.033",
      "13:37:23.187",
      "15:36:35.117",
      "16:26:37.951",
    ],
    systolic: [126, 126, 126, 121, 118, 116, 118],
    diastolic: [86, 85, 83, 81, 80, 81, 81],
    meanPulse: [40, 41, 43, 40, 38, 35, 37],
  };

  var bloodPressureChart = new Chart(bloodPressureCtx, {
    type: "line",
    data: {
      labels: bloodPressureDefault.time,
      datasets: [
        {
          label: "Mean Pulse", // Name the first series
          data: bloodPressureDefault.meanPulse, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
        {
          label: "Systolic", // Name the first series
          data: bloodPressureDefault.systolic, // Specify the data values array
          fill: false,
          borderColor: "#2196f3", // Add custom color border (Line)
          backgroundColor: "#2196f3", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
        {
          label: "Diastolic", // Name the second series
          data: bloodPressureDefault.diastolic, // Specify the data values array for the second line
          fill: false,
          borderColor: "#ff5722", // Add custom color border for the second line
          backgroundColor: "#ff5722", // Add custom color background for the second line
          borderWidth: 1, // Specify bar border width for the second line
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateBloodPressureChart() {
    const selectedDate = document.getElementById(
      "bloodPressureCreatedAt"
    ).value;
    bloodPressureDefault = patient.features.bloodPressureHistory.find(
      (entry) => entry.date === selectedDate
    );
    if(bloodPressureDefault){
      bloodPressureChart.data.labels = bloodPressureDefault.time;
      bloodPressureChart.data.datasets[0].data = bloodPressureDefault.meanPulse;
      bloodPressureChart.data.datasets[1].data = bloodPressureDefault.systolic;
      bloodPressureChart.data.datasets[2].data = bloodPressureDefault.diastolic;
    } else {
      bloodPressureChart.data.labels = null;
      bloodPressureChart.data.datasets[0].data = null;
      bloodPressureChart.data.datasets[1].data = null;
      bloodPressureChart.data.datasets[2].data = null;
    }
    bloodPressureChart.update();
  }

  /* Heart Rate */
  const heartRateCtx = document.getElementById("heartRateChart");
  let heartRateDefault = {
    date: "2021-11-20",
    time: [
      "02:30:10.469",
      "08:04:18.206",
      "08:25:28.956",
      "08:35:14.033",
      "14:04:23.187",
      "16:04:35.117",
      "16:55:37.951",
    ],
    heartRate: [66, 87, 68, 85, 83, 80, 73],
    heartBeatCount: [70, 71, 96, 82, 95, 94, 63],
  };

  var heartRateChart = new Chart(heartRateCtx, {
    type: "line",
    data: {
      labels: heartRateDefault.time,
      datasets: [
        {
          label: "Heart Rate", // Name the first series
          data: heartRateDefault.heartRate, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
        {
          label: "Heart Beat Count", // Name the first series
          data: heartRateDefault.heartBeatCount, // Specify the data values array
          fill: false,
          borderColor: "#2196f3", // Add custom color border (Line)
          backgroundColor: "#2196f3", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateHeartRateChart() {
    const selectedDate = document.getElementById("heartRateCreatedAt").value;
    const maxHeartRate = document.getElementById("maxHeartRate");
    const minHeartRate = document.getElementById("minHeartRate");
    const averageHeartRate = document.getElementById("averageHeartRate");
    heartRateDefault = patient.features.heartRateHistory.find(
      (entry) => entry.date === selectedDate
    );
    if(heartRateDefault){
      heartRateChart.data.labels = heartRateDefault.time;
      heartRateChart.data.datasets[0].data = heartRateDefault.heartRate;
      heartRateChart.data.datasets[1].data = heartRateDefault.heartBeatCount;
      maxHeartRate.innerText= `${Math.max(...heartRateDefault.heartRate)}`;
      minHeartRate.innerText= `${Math.min(...heartRateDefault.heartRate)}`;
      averageHeartRate.innerText= `${heartRateDefault.heartRate.reduce((accumulator, currentValue) => accumulator + currentValue, 0) / heartRateDefault.heartRate.length}`;
    } else {
      heartRateChart.data.labels = null;
      heartRateChart.data.datasets[0].data = null;
      heartRateChart.data.datasets[1].data = null;
      maxHeartRate.innerText= "null";
      minHeartRate.innerText= "null";
      averageHeartRate.innerText= "null";
    }
    heartRateChart.update();
  }

  /* Height & Weight */
  const heightWeightCtx = document.getElementById("heightWeightChart");
  let heightWeightDefault = {
    date: '2021-11-20',
    time: [
      '02:25:10.469',
      '07:59:18.206',
      '08:20:28.956',
      '08:30:14.033',
      '13:59:23.187',
      '15:59:35.117',
      '16:45:37.951'
    ],
    height: [
      166, 166, 166,
      166, 166, 166,
      166
    ],
    weight: [
      61, 61, 61, 61,
      61, 61, 61
    ],
  };

  var heightWeightChart = new Chart(heightWeightCtx, {
    type: "line",
    data: {
      labels: heightWeightDefault.time,
      datasets: [
        {
          label: "Height", // Name the first series
          data: heightWeightDefault.height, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
        {
          label: "Weight", // Name the first series
          data: heightWeightDefault.weight, // Specify the data values array
          fill: false,
          borderColor: "#2196f3", // Add custom color border (Line)
          backgroundColor: "#2196f3", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateHeightWeightChart() {
    const selectedDate = document.getElementById("heightWeightCreatedAt").value;
    heightWeightDefault = patient.features.heightWeightHistory.find(
      (entry) => entry.date === selectedDate
    );
    console.log(heightWeightDefault);
    if(heightWeightDefault){
      heightWeightChart.data.labels = heightWeightDefault.time;
      heightWeightChart.data.datasets[0].data = heightWeightDefault.height;
      heightWeightChart.data.datasets[1].data = heightWeightDefault.weight;
    } else {
      heightWeightChart.data.labels = null;
      heightWeightChart.data.datasets[0].data = null;
      heightWeightChart.data.datasets[1].data = null;
    }
    heightWeightChart.update();
  }

  /* BMI */
  const bmiCtx = document.getElementById("bmiChart");
  let bmiDefault = {
    date: '2021-11-20',
    time: [
      '02:10:10.469',
      '07:45:18.206',
      '08:05:28.956',
      '08:15:14.033',
      '13:45:23.187',
      '15:40:35.117',
      '16:30:37.951'
    ],
    bmi: [
      22, 22, 22, 20,
      18, 19, 23
    ]
  };

  var bmiChart = new Chart(bmiCtx, {
    type: "line",
    data: {
      labels: bmiDefault.time,
      datasets: [
        {
          label: "Height", // Name the first series
          data: bmiDefault.bmi, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateBmiChart() {
    const selectedDate = document.getElementById("bmiCreatedAt").value;
    bmiDefault = patient.features.bmiHistory.find(
      (entry) => entry.date === selectedDate
    );
    console.log(bmiDefault);
    if(bmiDefault){
      bmiChart.data.labels = bmiDefault.time;
      bmiChart.data.datasets[0].data = bmiDefault.bmi;
    } else {
      bmiChart.data.labels = null;
      bmiChart.data.datasets[0].data = null;
    }
    bmiChart.update();
  }

  /* Temperature */
  const temperatureCtx = document.getElementById("temperatureChart");
  let temperatureDefault = {
    date: '2021-11-20',
    time: [
      '02:20:10.469',
      '07:55:18.206',
      '08:15:28.956',
      '08:25:14.033',
      '13:55:23.187',
      '15:55:35.117',
      '16:40:37.951'
    ],
    temperature: [
      36.1, 36, 36, 36, 36, 36, 36
    ]
  };

  var temperatureChart = new Chart(temperatureCtx, {
    type: "line",
    data: {
      labels: temperatureDefault.time,
      datasets: [
        {
          label: "Height", // Name the first series
          data: temperatureDefault.temperature, // Specify the data values array
          fill: false,
          borderColor: "#6472f8", // Add custom color border (Line)
          backgroundColor: "#6472f8", // Add custom color background (Points and Fill)
          borderWidth: 1, // Specify bar border width
        },
      ],
    },
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    },
  });

  function updateTemperatureChart() {
    const selectedDate = document.getElementById("temperatureCreatedAt").value;
    temperatureDefault = patient.features.temperatureHistory.find(
      (entry) => entry.date === selectedDate
    );
    console.log(temperatureDefault);
    if(temperatureDefault){
      temperatureChart.data.labels = temperatureDefault.time;
      temperatureChart.data.datasets[0].data = temperatureDefault.temperature;
    } else {
      temperatureChart.data.labels = null;
      temperatureChart.data.datasets[0].data = null;
    }
    temperatureChart.update();
  }
</script>
